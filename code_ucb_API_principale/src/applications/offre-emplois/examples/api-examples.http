### Exemples d'utilisation de l'API Job Offers
### Utilisez ce fichier avec l'extension REST Client de VS Code

@baseUrl = http://localhost:3000
@contentType = application/json

### 1. Créer une nouvelle offre d'emploi
POST {{baseUrl}}/job-offers
Content-Type: {{contentType}}

{
  "title": "Développeur Full Stack Senior",
  "description": "Nous recherchons un développeur expérimenté pour rejoindre notre équipe dynamique. Vous travaillerez sur des projets innovants utilisant les dernières technologies web. Responsabilités : développement d'applications web modernes, collaboration avec l'équipe UX/UI, participation aux décisions techniques, mentorat des développeurs junior.",
  "company": "TechCorp Solutions",
  "location": "Paris, France",
  "contractType": "CDI",
  "experience": "Senior",
  "skills": ["JavaScript", "TypeScript", "React", "Node.js", "MongoDB", "Docker"],
  "requirements": [
    "Bac+5 en informatique ou équivalent",
    "5+ ans d'expérience en développement web",
    "Maîtrise de JavaScript/TypeScript",
    "Expérience avec React et Node.js",
    "Connaissance des bases de données NoSQL"
  ],
  "benefits": [
    "Télétravail partiel (3j/semaine)",
    "Tickets restaurant",
    "Mutuelle d'entreprise",
    "Formation continue",
    "Équipement fourni"
  ],
  "salary": {
    "min": 55000,
    "max": 70000,
    "currency": "EUR"
  },
  "applicationDeadline": "2024-06-15T23:59:59.000Z"
}

### 2. Créer une offre d'emploi Junior
POST {{baseUrl}}/job-offers
Content-Type: {{contentType}}

{
  "title": "Développeur Frontend Junior",
  "description": "Rejoignez notre équipe en tant que développeur frontend junior. Vous participerez au développement d'interfaces utilisateur modernes et intuitives. Formation et accompagnement assurés pour votre montée en compétences.",
  "company": "StartupTech",
  "location": "Lyon, France",
  "contractType": "CDI",
  "experience": "Junior",
  "skills": ["HTML", "CSS", "JavaScript", "React", "Git"],
  "requirements": [
    "Bac+3 en informatique minimum",
    "Première expérience en développement web",
    "Connaissance de base en JavaScript",
    "Motivation et envie d'apprendre"
  ],
  "benefits": [
    "Formation continue",
    "Mentorat senior",
    "Environnement startup dynamique"
  ],
  "salary": {
    "min": 35000,
    "max": 42000,
    "currency": "EUR"
  }
}

### 3. Créer une offre de stage
POST {{baseUrl}}/job-offers
Content-Type: {{contentType}}

{
  "title": "Stage Développement Web - 6 mois",
  "description": "Stage de 6 mois dans notre équipe de développement. Vous participerez à des projets réels et développerez vos compétences techniques sous la supervision d'un développeur senior.",
  "company": "WebAgency Pro",
  "location": "Marseille, France",
  "contractType": "Stage",
  "experience": "Junior",
  "skills": ["HTML", "CSS", "JavaScript", "PHP", "MySQL"],
  "requirements": [
    "Étudiant en informatique (Bac+3/4/5)",
    "Bases en développement web",
    "Motivation et curiosité technique"
  ],
  "benefits": [
    "Encadrement personnalisé",
    "Projets variés",
    "Possibilité d'embauche"
  ],
  "applicationDeadline": "2024-04-30T23:59:59.000Z"
}

### 4. Récupérer toutes les offres (première page)
GET {{baseUrl}}/job-offers?page=1&limit=10

### 5. Récupérer les offres avec filtres
GET {{baseUrl}}/job-offers?contractType=CDI&experience=Senior&isActive=true

### 6. Recherche textuelle
GET {{baseUrl}}/job-offers/search?q=javascript react&page=1&limit=5

### 7. Filtrer par localisation
GET {{baseUrl}}/job-offers?location=Paris

### 8. Filtrer par entreprise
GET {{baseUrl}}/job-offers?company=Tech

### 9. Filtrer par salaire
GET {{baseUrl}}/job-offers?minSalary=40000&maxSalary=60000

### 10. Trier par date de création (plus récent en premier)
GET {{baseUrl}}/job-offers?sortBy=createdAt&sortOrder=desc

### 11. Récupérer une offre spécifique (remplacez l'ID)
# GET {{baseUrl}}/job-offers/507f1f77bcf86cd799439011

### 12. Mettre à jour une offre complètement (remplacez l'ID)
# PUT {{baseUrl}}/job-offers/507f1f77bcf86cd799439011
# Content-Type: {{contentType}}
# 
# {
#   "title": "Lead Developer Full Stack",
#   "description": "Description mise à jour pour un poste de lead developer...",
#   "company": "TechCorp Solutions",
#   "location": "Paris, France",
#   "contractType": "CDI",
#   "experience": "Expert",
#   "skills": ["JavaScript", "TypeScript", "React", "Node.js", "MongoDB", "Docker", "Kubernetes"],
#   "requirements": [
#     "Bac+5 en informatique",
#     "7+ ans d'expérience",
#     "Expérience en management d'équipe",
#     "Maîtrise des architectures microservices"
#   ],
#   "benefits": [
#     "Télétravail complet possible",
#     "Package salarial attractif",
#     "Stock options",
#     "Formation continue"
#   ],
#   "salary": {
#     "min": 65000,
#     "max": 80000,
#     "currency": "EUR"
#   }
# }

### 13. Mise à jour partielle (remplacez l'ID)
# PATCH {{baseUrl}}/job-offers/507f1f77bcf86cd799439011
# Content-Type: {{contentType}}
# 
# {
#   "salary": {
#     "min": 60000,
#     "max": 75000,
#     "currency": "EUR"
#   },
#   "applicationDeadline": "2024-07-31T23:59:59.000Z"
# }

### 14. Désactiver une offre (remplacez l'ID)
# PATCH {{baseUrl}}/job-offers/507f1f77bcf86cd799439011/toggle-active?isActive=false

### 15. Réactiver une offre (remplacez l'ID)
# PATCH {{baseUrl}}/job-offers/507f1f77bcf86cd799439011/toggle-active?isActive=true

### 16. Supprimer une offre (remplacez l'ID)
# DELETE {{baseUrl}}/job-offers/507f1f77bcf86cd799439011

### 17. Recherche avancée avec plusieurs filtres
GET {{baseUrl}}/job-offers?q=développeur&contractType=CDI&experience=Confirmé&location=Paris&minSalary=45000&sortBy=salary.min&sortOrder=desc

### 18. Récupérer uniquement les offres actives
GET {{baseUrl}}/job-offers?isActive=true&sortBy=createdAt&sortOrder=desc

### 19. Recherche par compétences
GET {{baseUrl}}/job-offers?skills=React

### 20. Pagination avancée
GET {{baseUrl}}/job-offers?page=2&limit=5&sortBy=company&sortOrder=asc

### 21. Incrémenter le nombre de postulants (remplacez l'ID)
# PATCH {{baseUrl}}/job-offers/507f1f77bcf86cd799439011/increment-postule

### 22. Mettre à jour le nombre de postulants (remplacez l'ID)
# PATCH {{baseUrl}}/job-offers/507f1f77bcf86cd799439011/update-postule?totalPostuleNumber=15

### 23. Créer une offre avec nombre de postulants initial
POST {{baseUrl}}/job-offers
Content-Type: {{contentType}}

{
  "title": "Développeur Backend Expert",
  "description": "Nous recherchons un développeur backend expert pour diriger notre équipe technique. Vous serez responsable de l'architecture des systèmes, du mentorat des développeurs junior et de la mise en place des meilleures pratiques de développement.",
  "company": "InnovTech Solutions",
  "location": "Toulouse, France",
  "contractType": "CDI",
  "experience": "Expert",
  "skills": ["Node.js", "Python", "Docker", "Kubernetes", "AWS", "MongoDB"],
  "requirements": [
    "Bac+5 en informatique ou équivalent",
    "8+ ans d'expérience en développement backend",
    "Expérience en architecture de systèmes distribués",
    "Compétences en leadership technique"
  ],
  "benefits": [
    "Télétravail complet",
    "Package salarial attractif",
    "Stock options",
    "Budget formation 3000€/an"
  ],
  "salary": {
    "min": 70000,
    "max": 90000,
    "currency": "EUR"
  },
  "totalPostuleNumber": 5,
  "applicationDeadline": "2024-08-31T23:59:59.000Z"
}

###
### Instructions d'utilisation :
### 1. Démarrez votre serveur NestJS : npm run start:dev
### 2. Assurez-vous que MongoDB est en cours d'exécution
### 3. Utilisez l'extension REST Client de VS Code pour exécuter ces requêtes
### 4. Cliquez sur "Send Request" au-dessus de chaque requête
### 5. Pour les requêtes avec ID, créez d'abord une offre et utilisez l'ID retourné
###
### Nouveaux endpoints pour la gestion des postulants :
### - PATCH /job-offers/:id/increment-postule : Incrémenter de 1 le nombre de postulants
### - PATCH /job-offers/:id/update-postule?totalPostuleNumber=X : Définir le nombre exact de postulants
###
### Codes de réponse attendus :
### - 201 : Création réussie
### - 200 : Récupération/Mise à jour réussie
### - 400 : Erreur de validation
### - 404 : Ressource non trouvée
### - 500 : Erreur serveur
